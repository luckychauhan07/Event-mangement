<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Add Event</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			:root {
				--primary: #2563eb;
				--primary-light: #eff6ff;
				--border: #e2e8f0;
				--text-muted: #64748b;
			}

			body {
				background: #f8fafc;
				font-family: "Inter", system-ui, sans-serif;
			}

			.page-header {
				background: linear-gradient(
					135deg,
					#2563eb 0%,
					#0ea5e9 60%,
					#38bdf8 100%
				);
				color: white;
				padding: 2rem;
				border-radius: 16px;
				margin-bottom: 2rem;
				box-shadow: 0 10px 30px rgba(37, 99, 235, 0.25);
			}

			.form-container {
				background: white;
				border-radius: 16px;
				padding: 2rem;
				box-shadow: 0 10px 25px rgba(15, 23, 42, 0.06);
			}

			.section-header {
				display: flex;
				align-items: center;
				gap: 12px;
				margin: 2rem 0 1.5rem;
				padding-bottom: 0.75rem;
				border-bottom: 2px solid var(--border);
			}

			.section-header .icon {
				width: 32px;
				height: 32px;
				background: var(--primary);
				color: white;
				border-radius: 8px;
				display: flex;
				align-items: center;
				justify-content: center;
				font-weight: bold;
			}

			.section-header h3 {
				margin: 0;
				font-size: 1.25rem;
				font-weight: 600;
			}

			.form-label {
				font-weight: 600;
				color: #0f172a;
				margin-bottom: 0.5rem;
			}

			.required::after {
				content: " *";
				color: #dc2626;
			}

			.form-control,
			.form-select {
				border-radius: 8px;
				border: 1px solid var(--border);
				padding: 0.625rem 0.875rem;
			}

			.form-control:focus,
			.form-select:focus {
				border-color: var(--primary);
				box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.12);
			}

			.help-text {
				font-size: 0.875rem;
				color: var(--text-muted);
				margin-top: 0.25rem;
			}

			.tag-container {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-top: 0.5rem;
				min-height: 20px;
			}

			.tag {
				background: #e0f2fe;
				color: #075985;
				padding: 0.375rem 0.75rem;
				border-radius: 999px;
				font-size: 0.875rem;
				font-weight: 600;
				display: flex;
				align-items: center;
				gap: 0.5rem;
				animation: fadeIn 0.2s ease-in;
			}

			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: scale(0.9);
				}
				to {
					opacity: 1;
					transform: scale(1);
				}
			}

			.tag .remove {
				cursor: pointer;
				opacity: 0.7;
				font-size: 1.2rem;
				line-height: 1;
			}

			.tag .remove:hover {
				opacity: 1;
			}

			.co-org-checkbox {
				padding: 0.5rem;
				border-radius: 8px;
				transition: background-color 0.2s;
			}

			.co-org-checkbox:hover {
				background-color: #f8fafc;
			}

			.co-org-checkbox .form-check-input {
				cursor: pointer;
			}

			.co-org-checkbox .form-check-label {
				cursor: pointer;
				font-weight: 500;
			}

			.co-org-checkbox .small {
				color: var(--text-muted);
				font-size: 0.8rem;
			}

			.btn-primary {
				background: var(--primary);
				border-color: var(--primary);
				border-radius: 8px;
				padding: 0.625rem 1.5rem;
				font-weight: 600;
			}

			.btn-primary:hover {
				background: #1d4ed8;
				border-color: #1d4ed8;
			}

			.subsection {
				background: #f9fafb;
				border: 1px solid var(--border);
				border-radius: 12px;
				padding: 1.5rem;
				margin-top: 1.5rem;
			}

			.subsection-title {
				font-weight: 600;
				font-size: 1rem;
				margin-bottom: 1rem;
				color: #1e293b;
			}
		</style>
	</head>
	<body>
		<div class="container" style="max-width: 1200px; padding: 2rem 1rem">
			<!-- Page Header -->
			<div class="page-header">
				<h1 class="h2 mb-2">Add New Event</h1>
				<p class="mb-0 opacity-90">
					Create and manage your event with comprehensive details
				</p>
			</div>

			<form id="eventForm" class="form-container">
				<!-- Section 1: Basic Information -->
				<div class="section-header">
					<div class="icon">1</div>
					<h3>Basic Information</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-8">
						<label for="title" class="form-label required"
							>Event Title</label
						>
						<input
							type="text"
							id="title"
							name="title"
							class="form-control"
							minlength="5"
							maxlength="150"
							required
						/>
						<div class="help-text">
							Minimum 5 characters, maximum 150
						</div>
					</div>

					<div class="col-md-4">
						<label for="subtitle" class="form-label"
							>Event Subtitle/Tagline</label
						>
						<input
							type="text"
							id="subtitle"
							name="subtitle"
							class="form-control"
							maxlength="150"
						/>
					</div>

					<div class="col-12">
						<label for="description" class="form-label required"
							>Event Description</label
						>
						<textarea
							id="description"
							name="description"
							class="form-control"
							rows="5"
							minlength="20"
							required
						></textarea>
						<div class="help-text">
							Provide detailed information about the event
							(minimum 20 characters)
						</div>
					</div>

					<div class="col-md-4">
						<label for="categories" class="form-label required"
							>Event Category</label
						>
						<select
							id="categories"
							name="categories"
							class="form-select"
							required
						>
							<option value="">-- Select Category --</option>
							<option value="technical">Technical</option>
							<option value="cultural">Cultural</option>
							<option value="sports">Sports</option>
							<option value="workshop">Workshop</option>
							<option value="talk">Talk/Seminar</option>
							<option value="competition">Competition</option>
							<option value="festival">Festival</option>
							<option value="exhibition">Exhibition</option>
							<option value="social">Social/Networking</option>
							<option value="fundraiser">Fundraiser</option>
						</select>
					</div>

					<div class="col-md-4">
						<label for="eventType" class="form-label required"
							>Event Type</label
						>
						<select
							id="eventType"
							name="eventType"
							class="form-select"
							required
						>
							<option value="">-- Select Type --</option>
							<option value="free">Free Entry</option>
							<option value="paid">Paid Entry</option>
						</select>
					</div>

					<div
						class="col-md-4"
						id="entryFeeGroup"
						style="display: none"
					>
						<label for="entryFee" class="form-label"
							>Entry Fee Amount</label
						>
						<input
							type="number"
							id="entryFee"
							name="entryFee"
							class="form-control"
							min="0"
							step="0.01"
							placeholder="e.g., 500"
						/>
					</div>

					<div class="col-12">
						<label for="tagInput" class="form-label"
							>Tags / Keywords</label
						>
						<div class="input-group">
							<input
								type="text"
								id="tagInput"
								class="form-control"
								placeholder="Type a tag and press Enter"
							/>
							<button
								type="button"
								id="addTagBtn"
								class="btn btn-outline-secondary"
							>
								Add Tag
							</button>
						</div>
						<div class="help-text">
							Add relevant keywords for better searchability (max
							10 tags)
						</div>
						<div id="tagsContainer" class="tag-container"></div>
					</div>
				</div>

				<!-- Section 2: Organizer Details -->
				<div class="section-header">
					<div class="icon">2</div>
					<h3>Organizer Details</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-6">
						<label for="organizer" class="form-label required"
							>Organizing Club / Department</label
						>
						<select
							id="organizer"
							name="organizer"
							class="form-select"
							required
						>
							<option value="">-- Select Organizer --</option>
							<option value="tech_club">Tech Club</option>
							<option value="cultural_club">
								Art & Culture Club
							</option>
							<option value="cs_dept">
								Computer Science Department
							</option>
							<option value="ece_dept">
								Electronics Department
							</option>
							<option value="mech_dept">
								Mechanical Department
							</option>
							<option value="other">Other</option>
						</select>
					</div>

					<div class="col-md-6">
						<label
							for="primaryCoordinator"
							class="form-label required"
							>Primary Coordinator (Faculty)</label
						>
						<select
							id="primaryCoordinator"
							name="primaryCoordinator"
							class="form-select"
							required
						>
							<option value="">
								-- Select Faculty Coordinator --
							</option>
						</select>
						<div class="help-text">
							Only faculty members with teacher role can be
							coordinators
						</div>
					</div>

					<div class="col-md-6">
						<label for="coordEmail" class="form-label"
							>Coordinator Email</label
						>
						<input
							type="email"
							id="coordEmail"
							name="coordEmail"
							class="form-control"
							readonly
						/>
					</div>

					<div class="col-md-6">
						<label for="coordPhone" class="form-label"
							>Coordinator Phone</label
						>
						<input
							type="tel"
							id="coordPhone"
							name="coordPhone"
							class="form-control"
							pattern="^\+?[0-9\- ]{7,20}$"
							readonly
						/>
					</div>

					<div class="col-12">
						<label class="form-label"
							>Additional Co-organizers (Faculty)</label
						>
						<div class="card">
							<div
								class="card-body"
								style="max-height: 300px; overflow-y: auto"
							>
								<div
									id="coOrganizersCheckboxes"
									class="row g-2"
								>
									<!-- Checkboxes will be populated here -->
								</div>
							</div>
						</div>
						<div class="help-text">
							Select multiple faculty members as co-organizers
						</div>
						<div
							id="selectedCoOrgs"
							class="tag-container mt-2"
						></div>
					</div>
				</div>

				<!-- Section 3: Schedule & Venue -->
				<div class="section-header">
					<div class="icon">3</div>
					<h3>Schedule & Venue</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-6">
						<label for="startAt" class="form-label required"
							>Start Date & Time</label
						>
						<input
							type="datetime-local"
							id="startAt"
							name="startAt"
							class="form-control"
							required
						/>
					</div>

					<div class="col-md-6">
						<label for="endAt" class="form-label required"
							>End Date & Time</label
						>
						<input
							type="datetime-local"
							id="endAt"
							name="endAt"
							class="form-control"
							required
						/>
					</div>

					<div class="col-md-4">
						<label class="form-label required">Event Mode</label>
						<div>
							<div class="form-check">
								<input
									class="form-check-input"
									type="radio"
									name="mode"
									id="modeOnline"
									value="online"
									required
								/>
								<label class="form-check-label" for="modeOnline"
									>Online</label
								>
							</div>
							<div class="form-check">
								<input
									class="form-check-input"
									type="radio"
									name="mode"
									id="modeOffline"
									value="offline"
								/>
								<label
									class="form-check-label"
									for="modeOffline"
									>Offline</label
								>
							</div>
							<div class="form-check">
								<input
									class="form-check-input"
									type="radio"
									name="mode"
									id="modeHybrid"
									value="hybrid"
								/>
								<label class="form-check-label" for="modeHybrid"
									>Hybrid</label
								>
							</div>
						</div>
					</div>

					<div class="col-md-6" id="venueGroup">
						<label for="venue" class="form-label required"
							>Venue / Location</label
						>
						<input
							type="text"
							id="venue"
							name="venue"
							class="form-control"
							placeholder="e.g., Auditorium A, Seminar Hall 1"
							required
						/>
						<div class="help-text">
							Enter the venue name or location details
						</div>
					</div>

					<div
						class="col-md-6"
						id="onlineLinkGroup"
						style="display: none"
					>
						<label for="onlineLink" class="form-label"
							>Online Meeting Link</label
						>
						<input
							type="url"
							id="onlineLink"
							name="onlineLink"
							class="form-control"
							placeholder="https://meet.example.com/xyz"
						/>
					</div>

					<div class="col-md-6">
						<label for="rooms" class="form-label"
							>Additional Rooms / Spaces</label
						>
						<input
							type="text"
							id="rooms"
							name="rooms"
							class="form-control"
							placeholder="e.g., Auditorium, Lab R2, Open Ground"
						/>
					</div>

					<div class="col-md-6">
						<label for="recurrence" class="form-label"
							>Recurrence Pattern</label
						>
						<select
							id="recurrence"
							name="recurrence"
							class="form-select"
						>
							<option value="">No Recurrence</option>
							<option value="daily">Daily</option>
							<option value="weekly">Weekly</option>
							<option value="monthly">Monthly</option>
						</select>
					</div>
				</div>

				<!-- Section 4: Registration Settings -->
				<div class="section-header">
					<div class="icon">4</div>
					<h3>Registration Settings</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-3">
						<label
							for="registrationRequired"
							class="form-label required"
							>Registration Required?</label
						>
						<select
							id="registrationRequired"
							name="registrationRequired"
							class="form-select"
							required
						>
							<option value="yes">Yes</option>
							<option value="no">No</option>
						</select>
					</div>

					<div class="col-md-3" id="registrationTypeGroup">
						<label for="registrationType" class="form-label"
							>Registration Type</label
						>
						<select
							id="registrationType"
							name="registrationType"
							class="form-select"
						>
							<option value="open">Open Registration</option>
							<option value="invite">Invite-only</option>
							<option value="approval">Approval-based</option>
						</select>
					</div>

					<div class="col-md-3" id="regStartGroup">
						<label for="regStart" class="form-label"
							>Registration Start</label
						>
						<input
							type="datetime-local"
							id="regStart"
							name="regStart"
							class="form-control"
						/>
					</div>

					<div class="col-md-3" id="regEndGroup">
						<label for="regEnd" class="form-label"
							>Registration End</label
						>
						<input
							type="datetime-local"
							id="regEnd"
							name="regEnd"
							class="form-control"
						/>
					</div>

					<div class="col-md-4" id="participantLimitGroup">
						<label for="participantLimit" class="form-label"
							>Participant Limit</label
						>
						<input
							type="number"
							id="participantLimit"
							name="participantLimit"
							class="form-control"
							min="1"
							placeholder="e.g., 200"
						/>
					</div>

					<div class="col-md-4">
						<label for="securityLevel" class="form-label required"
							>Security Level</label
						>
						<select
							id="securityLevel"
							name="securityLevel"
							class="form-select"
							required
						>
							<option value="low">Low</option>
							<option value="medium" selected>Medium</option>
							<option value="high">High</option>
						</select>
					</div>

					<div class="col-md-4">
						<label for="ageRestriction" class="form-label"
							>Age Restriction</label
						>
						<input
							type="number"
							id="ageRestriction"
							name="ageRestriction"
							class="form-control"
							min="0"
							placeholder="e.g., 18+"
						/>
					</div>
				</div>

				<!-- Section 5: Resources & Catering -->
				<div class="section-header">
					<div class="icon">5</div>
					<h3>Resources & Catering</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-6">
						<label for="equipment" class="form-label"
							>Equipment Needed</label
						>
						<input
							type="text"
							id="equipment"
							name="equipment"
							class="form-control"
							placeholder="e.g., projector, microphones, chairs"
						/>
					</div>

					<div class="col-md-3">
						<label for="catering" class="form-label"
							>Catering Required?</label
						>
						<select
							id="catering"
							name="catering"
							class="form-select"
						>
							<option value="no">No</option>
							<option value="yes">Yes</option>
						</select>
					</div>

					<div
						class="col-md-3"
						id="cateringDetailsGroup"
						style="display: none"
					>
						<label for="cateringDetails" class="form-label"
							>Catering Details</label
						>
						<input
							type="text"
							id="cateringDetails"
							name="cateringDetails"
							class="form-control"
							placeholder="Veg/Non-veg, count"
						/>
					</div>
				</div>

				<!-- Section 6: Media & Visibility -->
				<div class="section-header">
					<div class="icon">6</div>
					<h3>Media & Visibility</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-4">
						<label for="poster" class="form-label"
							>Event Poster / Banner</label
						>
						<input
							type="file"
							id="poster"
							name="poster"
							class="form-control"
							accept="image/*"
						/>
						<div class="help-text">
							Recommended size: 1920x1080px
						</div>
					</div>

					<div class="col-md-4">
						<label for="promoVideo" class="form-label"
							>Promo Video Link</label
						>
						<input
							type="url"
							id="promoVideo"
							name="promoVideo"
							class="form-control"
							placeholder="https://youtube.com/watch?v=..."
						/>
					</div>

					<div class="col-md-4">
						<label for="documents" class="form-label"
							>Documents (PDF)</label
						>
						<input
							type="file"
							id="documents"
							name="documents"
							class="form-control"
							accept="application/pdf"
							multiple
						/>
					</div>

					<div class="col-md-6">
						<label for="visibility" class="form-label required"
							>Visibility</label
						>
						<select
							id="visibility"
							name="visibility"
							class="form-select"
							required
						>
							<option value="public">Public</option>
							<option value="campus">Campus-only</option>
							<option value="department">Department-only</option>
							<option value="private">Private</option>
						</select>
					</div>

					<div class="col-md-6">
						<label class="form-label">Target Audience</label>
						<div>
							<div class="form-check form-check-inline">
								<input
									class="form-check-input"
									type="checkbox"
									value="students"
									id="audStudents"
								/>
								<label
									class="form-check-label"
									for="audStudents"
									>Students</label
								>
							</div>
							<div class="form-check form-check-inline">
								<input
									class="form-check-input"
									type="checkbox"
									value="faculty"
									id="audFaculty"
								/>
								<label class="form-check-label" for="audFaculty"
									>Faculty</label
								>
							</div>
							<div class="form-check form-check-inline">
								<input
									class="form-check-input"
									type="checkbox"
									value="staff"
									id="audStaff"
								/>
								<label class="form-check-label" for="audStaff"
									>Staff</label
								>
							</div>
							<div class="form-check form-check-inline">
								<input
									class="form-check-input"
									type="checkbox"
									value="external"
									id="audExternal"
								/>
								<label
									class="form-check-label"
									for="audExternal"
									>External</label
								>
							</div>
						</div>
					</div>
				</div>

				<!-- Section 7: Team Settings (Optional) -->
				<div class="section-header">
					<div class="icon">7</div>
					<h3>Team Participation (Optional)</h3>
				</div>

				<div class="row g-3">
					<div class="col-md-3">
						<label for="teamsEnabled" class="form-label"
							>Enable Teams?</label
						>
						<select
							id="teamsEnabled"
							name="teamsEnabled"
							class="form-select"
						>
							<option value="no" selected>No</option>
							<option value="yes">Yes</option>
						</select>
					</div>

					<div
						class="col-md-9"
						id="teamSettingsGroup"
						style="display: none"
					>
						<div class="row g-3">
							<div class="col-md-4">
								<label for="teamMin" class="form-label"
									>Min Team Size</label
								>
								<input
									type="number"
									id="teamMin"
									name="teamMin"
									class="form-control"
									min="1"
									placeholder="e.g., 2"
								/>
							</div>
							<div class="col-md-4">
								<label for="teamMax" class="form-label"
									>Max Team Size</label
								>
								<input
									type="number"
									id="teamMax"
									name="teamMax"
									class="form-control"
									min="1"
									placeholder="e.g., 5"
								/>
							</div>
							<div class="col-md-4">
								<label for="teamJoinMode" class="form-label"
									>Join Mode</label
								>
								<select
									id="teamJoinMode"
									name="teamJoinMode"
									class="form-select"
								>
									<option value="open">Open Join</option>
									<option value="invite">Invite-only</option>
									<option value="code">Code-protected</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<!-- Form Actions -->
				<div
					class="mt-4 pt-3"
					style="border-top: 2px solid var(--border)"
				>
					<div class="d-flex gap-2 justify-content-end">
						<button type="button" class="btn btn-outline-secondary">
							Save as Draft
						</button>
						<button type="submit" class="btn btn-primary">
							Create Event
						</button>
					</div>
				</div>
			</form>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Dummy Backend - Faculty/Teacher Users
			const facultyUsers = [
				{
					id: "T001",
					name: "Dr. Rajesh Kumar",
					email: "rajesh.kumar@university.edu",
					phone: "+919876543210",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T002",
					name: "Prof. Priya Sharma",
					email: "priya.sharma@university.edu",
					phone: "+919876543211",
					department: "Electronics",
					role: "teacher",
				},
				{
					id: "T003",
					name: "Dr. Amit Patel",
					email: "amit.patel@university.edu",
					phone: "+919876543212",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T004",
					name: "Prof. Neha Gupta",
					email: "neha.gupta@university.edu",
					phone: "+919876543213",
					department: "Mechanical",
					role: "teacher",
				},
				{
					id: "T005",
					name: "Dr. Suresh Verma",
					email: "suresh.verma@university.edu",
					phone: "+919876543214",
					department: "Civil",
					role: "teacher",
				},
				{
					id: "T006",
					name: "Prof. Anjali Singh",
					email: "anjali.singh@university.edu",
					phone: "+919876543215",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T007",
					name: "Dr. Vikram Desai",
					email: "vikram.desai@university.edu",
					phone: "+919876543216",
					department: "Electronics",
					role: "teacher",
				},
				{
					id: "T008",
					name: "Prof. Kavita Reddy",
					email: "kavita.reddy@university.edu",
					phone: "+919876543217",
					department: "Mathematics",
					role: "teacher",
				},
				{
					id: "T009",
					name: "Dr. Rahul Mehta",
					email: "rahul.mehta@university.edu",
					phone: "+919876543218",
					department: "Physics",
					role: "teacher",
				},
				{
					id: "T010",
					name: "Prof. Sneha Joshi",
					email: "sneha.joshi@university.edu",
					phone: "+919876543219",
					department: "Chemistry",
					role: "teacher",
				},
			];

			// Populate Primary Coordinator dropdown
			function populateFacultyDropdowns() {
				const primarySelect =
					document.getElementById("primaryCoordinator");
				const coOrgsContainer = document.getElementById(
					"coOrganizersCheckboxes"
				);

				facultyUsers.forEach((faculty) => {
					// Primary Coordinator option
					const primaryOption = document.createElement("option");
					primaryOption.value = faculty.id;
					primaryOption.textContent = `${faculty.name} (${faculty.department})`;
					primaryOption.dataset.email = faculty.email;
					primaryOption.dataset.phone = faculty.phone;
					primaryOption.dataset.department = faculty.department;
					primaryOption.dataset.name = faculty.name;
					primarySelect.appendChild(primaryOption);

					// Co-organizers checkbox
					const colDiv = document.createElement("div");
					colDiv.className = "col-md-6";
					colDiv.innerHTML = `
                    <div class="form-check co-org-checkbox">
                        <input class="form-check-input" type="checkbox" value="${faculty.id}" 
                               id="coOrg_${faculty.id}" 
                               data-name="${faculty.name}"
                               data-email="${faculty.email}"
                               data-department="${faculty.department}">
                        <label class="form-check-label" for="coOrg_${faculty.id}">
                            <div>${faculty.name}</div>
                            <small class="small">${faculty.department}</small>
                        </label>
                    </div>
                `;
					coOrgsContainer.appendChild(colDiv);
				});

				// Add event listeners to checkboxes
				document
					.querySelectorAll(
						'#coOrganizersCheckboxes input[type="checkbox"]'
					)
					.forEach((checkbox) => {
						checkbox.addEventListener(
							"change",
							updateSelectedCoOrgs
						);
					});
			}

			// Track selected co-organizers
			function updateSelectedCoOrgs() {
				const selectedContainer =
					document.getElementById("selectedCoOrgs");
				const checkboxes = document.querySelectorAll(
					'#coOrganizersCheckboxes input[type="checkbox"]:checked'
				);

				selectedContainer.innerHTML = "";

				checkboxes.forEach((checkbox) => {
					const tag = document.createElement("div");
					tag.className = "tag";
					tag.innerHTML = `
                    ${checkbox.dataset.name} (${checkbox.dataset.department})
                    <span class="remove" onclick="removeCoOrg('${checkbox.id}')">×</span>
                `;
					selectedContainer.appendChild(tag);
				});
			}

			// Remove co-organizer
			function removeCoOrg(checkboxId) {
				const checkbox = document.getElementById(checkboxId);
				if (checkbox) {
					checkbox.checked = false;
					updateSelectedCoOrgs();
				}
			}

			// Initialize faculty dropdowns on page load
			populateFacultyDropdowns();

			// Tag Management
			const tagInput = document.getElementById("tagInput");
			const addTagBtn = document.getElementById("addTagBtn");
			const tagsContainer = document.getElementById("tagsContainer");
			const tags = [];

			function addTag() {
				const value = tagInput.value.trim();
				if (value && tags.length < 10 && !tags.includes(value)) {
					tags.push(value);
					renderTags();
					tagInput.value = "";
				}
			}

			function removeTag(tag) {
				const index = tags.indexOf(tag);
				if (index > -1) {
					tags.splice(index, 1);
					renderTags();
				}
			}

			function renderTags() {
				tagsContainer.innerHTML = tags
					.map(
						(tag) => `
                <div class="tag">
                    ${tag}
                    <span class="remove" onclick="removeTag('${tag}')">×</span>
                </div>
            `
					)
					.join("");
			}

			addTagBtn.addEventListener("click", addTag);
			tagInput.addEventListener("keypress", (e) => {
				if (e.key === "Enter") {
					e.preventDefault();
					addTag();
				}
			});

			// Coordinator auto-fill
			document
				.getElementById("primaryCoordinator")
				.addEventListener("change", function () {
					const selected = this.options[this.selectedIndex];
					document.getElementById("coordEmail").value =
						selected.dataset.email || "";
					document.getElementById("coordPhone").value =
						selected.dataset.phone || "";

					// Disable the selected coordinator in co-organizers checkboxes
					document
						.querySelectorAll(
							'#coOrganizersCheckboxes input[type="checkbox"]'
						)
						.forEach((checkbox) => {
							if (checkbox.value === selected.value) {
								checkbox.disabled = true;
								checkbox.checked = false;
								checkbox.parentElement.style.opacity = "0.5";
							} else {
								checkbox.disabled = false;
								checkbox.parentElement.style.opacity = "1";
							}
						});
					updateSelectedCoOrgs();
				});

			// Mode toggle - updated for new layout
			document.querySelectorAll('input[name="mode"]').forEach((radio) => {
				radio.addEventListener("change", function () {
					const venueGroup = document.getElementById("venueGroup");
					const onlineLinkGroup =
						document.getElementById("onlineLinkGroup");
					const venueInput = document.getElementById("venue");

					if (this.value === "online") {
						venueGroup.style.display = "none";
						venueInput.removeAttribute("required");
						onlineLinkGroup.style.display = "block";
					} else if (this.value === "offline") {
						venueGroup.style.display = "block";
						venueInput.setAttribute("required", "required");
						onlineLinkGroup.style.display = "none";
					} else if (this.value === "hybrid") {
						venueGroup.style.display = "block";
						venueInput.setAttribute("required", "required");
						onlineLinkGroup.style.display = "block";
					}
				});
			});

			// Registration toggle
			document
				.getElementById("registrationRequired")
				.addEventListener("change", function () {
					const groups = [
						"registrationTypeGroup",
						"regStartGroup",
						"regEndGroup",
						"participantLimitGroup",
					];
					const display = this.value === "yes" ? "block" : "none";
					groups.forEach((id) => {
						const el = document.getElementById(id);
						if (el) el.style.display = display;
					});
				});

			// Catering toggle
			document
				.getElementById("catering")
				.addEventListener("change", function () {
					const detailsGroup = document.getElementById(
						"cateringDetailsGroup"
					);
					detailsGroup.style.display =
						this.value === "yes" ? "block" : "none";
				});

			// Teams toggle
			document
				.getElementById("teamsEnabled")
				.addEventListener("change", function () {
					const settingsGroup =
						document.getElementById("teamSettingsGroup");
					settingsGroup.style.display =
						this.value === "yes" ? "block" : "none";
				});

			// Event type fee toggle
			document
				.getElementById("eventType")
				.addEventListener("change", function () {
					const feeGroup = document.getElementById("entryFeeGroup");
					feeGroup.style.display =
						this.value === "paid" ? "block" : "none";
				});

			// Form submission
			document
				.getElementById("eventForm")
				.addEventListener("submit", function (e) {
					e.preventDefault();

					if (this.checkValidity()) {
						const formData = new FormData(this);
						const data = Object.fromEntries(formData.entries());
						data.tags = tags;

						// Get audience checkboxes
						data.audience = Array.from(
							document.querySelectorAll(
								'input[id^="aud"]:checked'
							)
						).map((cb) => cb.value);

						// Get co-organizers
						const coOrgCheckboxes = document.querySelectorAll(
							'#coOrganizersCheckboxes input[type="checkbox"]:checked'
						);
						data.coOrganizers = Array.from(coOrgCheckboxes).map(
							(checkbox) => ({
								id: checkbox.value,
								name: checkbox.dataset.name,
								email: checkbox.dataset.email,
								department: checkbox.dataset.department,
							})
						);

						// Get primary coordinator details
						const primarySelect =
							document.getElementById("primaryCoordinator");
						const primaryOption =
							primarySelect.options[primarySelect.selectedIndex];
						data.primaryCoordinatorDetails = {
							id: primaryOption.value,
							name: primaryOption.dataset.name,
							email: primaryOption.dataset.email,
							phone: primaryOption.dataset.phone,
							department: primaryOption.dataset.department,
						};

						console.log("Event Data:", data);
						alert(
							"Event created successfully! (Check console for complete data)"
						);
					} else {
						this.classList.add("was-validated");
					}
				});
		</script>
	</body>
</html>
