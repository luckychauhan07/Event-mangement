<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Add Event - Multi-Step Form</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			:root {
				--primary: #2563eb;
				--primary-dark: #1d4ed8;
				--primary-light: #eff6ff;
				--secondary: #0ea5e9;
				--success: #10b981;
				--border: #e2e8f0;
				--text-dark: #0f172a;
				--text-muted: #64748b;
				--shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
				--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
				--shadow-lg: 0 10px 30px rgba(37, 99, 235, 0.2);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				font-family: "Inter", -apple-system, BlinkMacSystemFont,
					sans-serif;
				min-height: 100vh;
				padding: 2rem 0;
			}

			.form-wrapper {
				max-width: 900px;
				margin: 0 auto;
				padding: 0 1rem;
			}

			.page-header {
				background: white;
				padding: 2rem;
				border-radius: 20px;
				margin-bottom: 2rem;
				box-shadow: var(--shadow-lg);
				text-align: center;
			}

			.page-header h1 {
				color: var(--text-dark);
				font-weight: 700;
				font-size: 2rem;
				margin-bottom: 0.5rem;
			}

			.page-header p {
				color: var(--text-muted);
				font-size: 1rem;
			}

			/* Progress Stepper */
			.stepper-wrapper {
				background: white;
				padding: 1.5rem;
				border-radius: 20px;
				margin-bottom: 2rem;
				box-shadow: var(--shadow-lg);
			}

			.stepper {
				display: flex;
				justify-content: space-between;
				align-items: center;
				position: relative;
				counter-reset: step;
			}

			.stepper::before {
				content: "";
				position: absolute;
				top: 20px;
				left: 0;
				right: 0;
				height: 3px;
				background: #e2e8f0;
				z-index: 0;
			}

			.step-item {
				flex: 1;
				text-align: center;
				position: relative;
				z-index: 1;
			}

			.step-button {
				width: 40px;
				height: 40px;
				border-radius: 50%;
				background: white;
				border: 3px solid #e2e8f0;
				display: flex;
				align-items: center;
				justify-content: center;
				margin: 0 auto 0.5rem;
				font-weight: 700;
				color: var(--text-muted);
				cursor: pointer;
				transition: all 0.3s ease;
				position: relative;
			}

			.step-button::before {
				counter-increment: step;
				content: counter(step);
			}

			.step-item.active .step-button {
				background: linear-gradient(
					135deg,
					var(--primary) 0%,
					var(--secondary) 100%
				);
				border-color: var(--primary);
				color: white;
				transform: scale(1.1);
				box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
			}

			.step-item.completed .step-button {
				background: var(--success);
				border-color: var(--success);
				color: white;
			}

			.step-item.completed .step-button::before {
				content: "‚úì";
			}

			.step-title {
				font-size: 0.75rem;
				font-weight: 600;
				color: var(--text-muted);
				margin-top: 0.5rem;
			}

			.step-item.active .step-title {
				color: var(--primary);
			}

			.step-item.completed .step-title {
				color: var(--success);
			}

			/* Form Container */
			.form-container {
				background: white;
				border-radius: 20px;
				padding: 2.5rem;
				box-shadow: var(--shadow-lg);
				min-height: 500px;
			}

			/* Form Steps */
			.form-step {
				display: none;
				animation: fadeInUp 0.4s ease;
			}

			.form-step.active {
				display: block;
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.step-header {
				margin-bottom: 2rem;
				padding-bottom: 1rem;
				border-bottom: 2px solid var(--border);
			}

			.step-header h2 {
				color: var(--text-dark);
				font-weight: 700;
				font-size: 1.75rem;
				margin-bottom: 0.5rem;
				display: flex;
				align-items: center;
				gap: 1rem;
			}

			.step-header .icon {
				width: 50px;
				height: 50px;
				background: linear-gradient(
					135deg,
					var(--primary) 0%,
					var(--secondary) 100%
				);
				border-radius: 12px;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
				font-size: 1.5rem;
				box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
			}

			.step-header p {
				color: var(--text-muted);
				margin: 0;
			}

			/* Form Elements */
			.form-label {
				font-weight: 600;
				color: var(--text-dark);
				margin-bottom: 0.5rem;
				font-size: 0.95rem;
			}

			.required::after {
				content: " *";
				color: #ef4444;
			}

			.form-control,
			.form-select {
				border-radius: 10px;
				border: 2px solid var(--border);
				padding: 0.75rem 1rem;
				transition: all 0.3s ease;
				font-size: 0.95rem;
			}

			.form-control:focus,
			.form-select:focus {
				border-color: var(--primary);
				box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
				outline: none;
			}

			.form-control:hover,
			.form-select:hover {
				border-color: var(--secondary);
			}

			textarea.form-control {
				resize: vertical;
				min-height: 120px;
			}

			.help-text {
				font-size: 0.85rem;
				color: var(--text-muted);
				margin-top: 0.35rem;
				display: block;
			}

			/* Radio and Checkbox Styling */
			.form-check {
				padding: 0.75rem;
				border-radius: 8px;
				transition: background 0.2s;
			}

			.form-check:hover {
				background: #f8fafc;
			}

			.form-check-input {
				width: 1.25rem;
				height: 1.25rem;
				border: 2px solid var(--border);
				cursor: pointer;
			}

			.form-check-input:checked {
				background-color: var(--primary);
				border-color: var(--primary);
			}

			.form-check-label {
				cursor: pointer;
				margin-left: 0.5rem;
				font-weight: 500;
			}

			/* Tag System */
			.tag-container {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-top: 0.75rem;
				min-height: 30px;
			}

			.tag {
				background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
				color: #0369a1;
				padding: 0.5rem 1rem;
				border-radius: 999px;
				font-size: 0.875rem;
				font-weight: 600;
				display: flex;
				align-items: center;
				gap: 0.5rem;
				animation: slideIn 0.3s ease;
				border: 1px solid #bae6fd;
			}

			@keyframes slideIn {
				from {
					opacity: 0;
					transform: scale(0.8);
				}
				to {
					opacity: 1;
					transform: scale(1);
				}
			}

			.tag .remove {
				cursor: pointer;
				font-size: 1.25rem;
				line-height: 1;
				opacity: 0.7;
				transition: opacity 0.2s;
			}

			.tag .remove:hover {
				opacity: 1;
			}

			/* Card Styling */
			.card {
				border: 2px solid var(--border);
				border-radius: 12px;
				overflow: hidden;
				transition: all 0.3s ease;
			}

			.card:hover {
				border-color: var(--secondary);
				box-shadow: var(--shadow-md);
			}

			.card-body {
				padding: 1.25rem;
			}

			.co-org-checkbox {
				padding: 0.75rem;
				border-radius: 8px;
				transition: all 0.2s;
				border: 1px solid transparent;
			}

			.co-org-checkbox:hover {
				background-color: #f8fafc;
				border-color: var(--border);
			}

			.co-org-checkbox .small {
				color: var(--text-muted);
				font-size: 0.8rem;
			}

			/* Button Styling */
			.btn {
				padding: 0.75rem 2rem;
				border-radius: 10px;
				font-weight: 600;
				transition: all 0.3s ease;
				border: none;
				font-size: 0.95rem;
			}

			.btn-primary {
				background: linear-gradient(
					135deg,
					var(--primary) 0%,
					var(--secondary) 100%
				);
				color: white;
				box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
			}

			.btn-primary:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
				background: linear-gradient(
					135deg,
					var(--primary-dark) 0%,
					var(--primary) 100%
				);
			}

			.btn-secondary {
				background: #f1f5f9;
				color: var(--text-dark);
				border: 2px solid var(--border);
			}

			.btn-secondary:hover {
				background: #e2e8f0;
				transform: translateY(-2px);
			}

			.btn-success {
				background: linear-gradient(135deg, #10b981 0%, #059669 100%);
				color: white;
				box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
			}

			.btn-success:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
			}

			.btn-outline-secondary {
				background: white;
				color: var(--text-dark);
				border: 2px solid var(--border);
			}

			.btn-outline-secondary:hover {
				background: #f8fafc;
				border-color: var(--primary);
				color: var(--primary);
			}

			/* Navigation Buttons */
			.form-navigation {
				display: flex;
				justify-content: space-between;
				margin-top: 2.5rem;
				padding-top: 2rem;
				border-top: 2px solid var(--border);
			}

			.btn-nav {
				min-width: 140px;
			}

			/* Input Group */
			.input-group {
				box-shadow: var(--shadow-sm);
				border-radius: 10px;
				overflow: hidden;
			}

			.input-group .form-control {
				border-right: none;
			}

			.input-group .btn {
				border-left: 2px solid var(--border);
			}

			/* Responsive */
			@media (max-width: 768px) {
				body {
					padding: 1rem 0;
				}

				.form-container {
					padding: 1.5rem;
				}

				.page-header h1 {
					font-size: 1.5rem;
				}

				.step-title {
					font-size: 0.65rem;
				}

				.step-button {
					width: 35px;
					height: 35px;
					font-size: 0.9rem;
				}

				.stepper-wrapper {
					padding: 1rem;
				}

				.form-navigation {
					flex-direction: column;
					gap: 1rem;
				}

				.btn-nav {
					width: 100%;
				}
			}

			/* Success Animation */
			@keyframes successPulse {
				0%,
				100% {
					transform: scale(1);
				}
				50% {
					transform: scale(1.05);
				}
			}

			.success-animation {
				animation: successPulse 0.5s ease;
			}

			/* Loading State */
			.btn.loading {
				pointer-events: none;
				opacity: 0.7;
			}

			.btn.loading::after {
				content: "";
				width: 16px;
				height: 16px;
				border: 2px solid white;
				border-top-color: transparent;
				border-radius: 50%;
				display: inline-block;
				margin-left: 0.5rem;
				animation: spin 0.6s linear infinite;
			}

			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}
		</style>
	</head>
	<body>
		<div class="form-wrapper">
			<!-- Page Header -->
			<div class="page-header">
				<h1>üéâ Create New Event</h1>
				<p>
					Fill in the details to create an amazing event for your
					community
				</p>
			</div>

			<!-- Progress Stepper -->
			<div class="stepper-wrapper">
				<div class="stepper">
					<div class="step-item active" data-step="0">
						<div class="step-button"></div>
						<div class="step-title">Basic Info</div>
					</div>
					<div class="step-item" data-step="1">
						<div class="step-button"></div>
						<div class="step-title">Organizers</div>
					</div>
					<div class="step-item" data-step="2">
						<div class="step-button"></div>
						<div class="step-title">Schedule</div>
					</div>
					<div class="step-item" data-step="3">
						<div class="step-button"></div>
						<div class="step-title">Registration</div>
					</div>
					<div class="step-item" data-step="4">
						<div class="step-button"></div>
						<div class="step-title">Media</div>
					</div>
					<div class="step-item" data-step="5">
						<div class="step-button"></div>
						<div class="step-title">Review</div>
					</div>
				</div>
			</div>

			<!-- Form Container -->
			<form id="eventForm" class="form-container" novalidate>
				<!-- Step 1: Basic Information -->
				<div class="form-step active" data-step="0">
					<div class="step-header">
						<h2>
							<span class="icon">üìã</span>
							<div>
								<div>Basic Information</div>
								<p>Tell us about your event</p>
							</div>
						</h2>
					</div>

					<div class="row g-4">
						<div class="col-md-8">
							<label for="title" class="form-label required"
								>Event Title</label
							>
							<input
								type="text"
								id="title"
								name="title"
								class="form-control"
								minlength="5"
								maxlength="150"
								placeholder="Enter event title"
								required
							/>
							<span class="help-text"
								>Make it catchy and descriptive (5-150
								characters)</span
							>
						</div>

						<div class="col-md-4">
							<label for="subtitle" class="form-label"
								>Event Tagline</label
							>
							<input
								type="text"
								id="subtitle"
								name="subtitle"
								class="form-control"
								maxlength="150"
								placeholder="Short tagline"
							/>
						</div>

						<div class="col-12">
							<label for="description" class="form-label required"
								>Event Description</label
							>
							<textarea
								id="description"
								name="description"
								class="form-control"
								rows="5"
								minlength="20"
								placeholder="Describe your event in detail..."
								required
							></textarea>
							<span class="help-text"
								>Provide comprehensive details about the event
								(minimum 20 characters)</span
							>
						</div>

						<div class="col-md-4">
							<label for="categories" class="form-label required"
								>Category</label
							>
							<select
								id="categories"
								name="categories"
								class="form-select"
								required
							>
								<option value="">-- Select Category --</option>
								<option value="technical">üîß Technical</option>
								<option value="cultural">üé≠ Cultural</option>
								<option value="sports">‚öΩ Sports</option>
								<option value="workshop">üéì Workshop</option>
								<option value="talk">üí¨ Talk/Seminar</option>
								<option value="competition">
									üèÜ Competition
								</option>
								<option value="festival">üéâ Festival</option>
								<option value="exhibition">
									üñºÔ∏è Exhibition
								</option>
								<option value="social">üë• Social</option>
								<option value="fundraiser">
									üí∞ Fundraiser
								</option>
							</select>
						</div>

						<div class="col-md-4">
							<label for="eventType" class="form-label required"
								>Event Type</label
							>
							<select
								id="eventType"
								name="eventType"
								class="form-select"
								required
							>
								<option value="">-- Select Type --</option>
								<option value="free">Free Entry</option>
								<option value="paid">Paid Entry</option>
							</select>
						</div>

						<div
							class="col-md-4"
							id="entryFeeGroup"
							style="display: none"
						>
							<label for="entryFee" class="form-label"
								>Entry Fee Amount (‚Çπ)</label
							>
							<input
								type="number"
								id="entryFee"
								name="entryFee"
								class="form-control"
								min="0"
								step="0.01"
								placeholder="500"
							/>
						</div>

						<div class="col-12">
							<label for="tagInput" class="form-label"
								>Tags / Keywords</label
							>
							<div class="input-group">
								<input
									type="text"
									id="tagInput"
									class="form-control"
									placeholder="Type a tag and press Enter or click Add"
								/>
								<button
									type="button"
									id="addTagBtn"
									class="btn btn-outline-secondary"
								>
									+ Add Tag
								</button>
							</div>
							<span class="help-text"
								>Add relevant keywords for better searchability
								(max 10 tags)</span
							>
							<div id="tagsContainer" class="tag-container"></div>
						</div>
					</div>
				</div>

				<!-- Step 2: Organizer Details -->
				<div class="form-step" data-step="1">
					<div class="step-header">
						<h2>
							<span class="icon">üë•</span>
							<div>
								<div>Organizer Details</div>
								<p>Who's organizing this event?</p>
							</div>
						</h2>
					</div>

					<div class="row g-4">
						<div class="col-md-6" id="regEndGroup">
							<label for="regEnd" class="form-label"
								>Registration End</label
							>
							<input
								type="datetime-local"
								id="regEnd"
								name="regEnd"
								class="form-control"
							/>
						</div>

						<div class="col-md-4" id="participantLimitGroup">
							<label for="participantLimit" class="form-label"
								>Participant Limit</label
							>
							<input
								type="number"
								id="participantLimit"
								name="participantLimit"
								class="form-control"
								min="1"
								placeholder="e.g., 200"
							/>
						</div>

						<div class="col-md-4">
							<label
								for="securityLevel"
								class="form-label required"
								>Security Level</label
							>
							<select
								id="securityLevel"
								name="securityLevel"
								class="form-select"
								required
							>
								<option value="low">Low</option>
								<option value="medium" selected>Medium</option>
								<option value="high">High</option>
							</select>
						</div>

						<div class="col-md-4">
							<label for="ageRestriction" class="form-label"
								>Age Restriction</label
							>
							<input
								type="number"
								id="ageRestriction"
								name="ageRestriction"
								class="form-control"
								min="0"
								placeholder="18+"
							/>
						</div>

						<div class="col-md-6">
							<label for="equipment" class="form-label"
								>Equipment Needed</label
							>
							<input
								type="text"
								id="equipment"
								name="equipment"
								class="form-control"
								placeholder="projector, microphones, chairs"
							/>
						</div>

						<div class="col-md-3">
							<label for="catering" class="form-label"
								>Catering Required?</label
							>
							<select
								id="catering"
								name="catering"
								class="form-select"
							>
								<option value="no">No</option>
								<option value="yes">Yes</option>
							</select>
						</div>

						<div
							class="col-md-3"
							id="cateringDetailsGroup"
							style="display: none"
						>
							<label for="cateringDetails" class="form-label"
								>Catering Details</label
							>
							<input
								type="text"
								id="cateringDetails"
								name="cateringDetails"
								class="form-control"
								placeholder="Veg/Non-veg"
							/>
						</div>

						<div class="col-12">
							<label for="teamsEnabled" class="form-label"
								>Enable Team Participation?</label
							>
							<select
								id="teamsEnabled"
								name="teamsEnabled"
								class="form-select"
							>
								<option value="no" selected>
									No - Individual participation
								</option>
								<option value="yes">
									Yes - Team-based event
								</option>
							</select>
						</div>

						<div
							class="col-12"
							id="teamSettingsGroup"
							style="display: none"
						>
							<div class="card">
								<div class="card-body">
									<div class="row g-3">
										<div class="col-md-4">
											<label
												for="teamMin"
												class="form-label"
												>Min Team Size</label
											>
											<input
												type="number"
												id="teamMin"
												name="teamMin"
												class="form-control"
												min="1"
												placeholder="e.g., 2"
											/>
										</div>
										<div class="col-md-4">
											<label
												for="teamMax"
												class="form-label"
												>Max Team Size</label
											>
											<input
												type="number"
												id="teamMax"
												name="teamMax"
												class="form-control"
												min="1"
												placeholder="e.g., 5"
											/>
										</div>
										<div class="col-md-4">
											<label
												for="teamJoinMode"
												class="form-label"
												>Join Mode</label
											>
											<select
												id="teamJoinMode"
												name="teamJoinMode"
												class="form-select"
											>
												<option value="open">
													Open Join
												</option>
												<option value="invite">
													Invite-only
												</option>
												<option value="code">
													Code-protected
												</option>
											</select>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Step 5: Media & Visibility -->
				<div class="form-step" data-step="4">
					<div class="step-header">
						<h2>
							<span class="icon">üé®</span>
							<div>
								<div>Media & Visibility</div>
								<p>Add visuals and set visibility</p>
							</div>
						</h2>
					</div>

					<div class="row g-4">
						<div class="col-md-6">
							<label for="poster" class="form-label"
								>Event Poster / Banner</label
							>
							<input
								type="file"
								id="poster"
								name="poster"
								class="form-control"
								accept="image/*"
							/>
							<span class="help-text"
								>Recommended size: 1920x1080px</span
							>
						</div>

						<div class="col-md-6">
							<label for="promoVideo" class="form-label"
								>Promo Video Link</label
							>
							<input
								type="url"
								id="promoVideo"
								name="promoVideo"
								class="form-control"
								placeholder="https://youtube.com/watch?v=..."
							/>
						</div>

						<div class="col-12">
							<label for="documents" class="form-label"
								>Additional Documents (PDF)</label
							>
							<input
								type="file"
								id="documents"
								name="documents"
								class="form-control"
								accept="application/pdf"
								multiple
							/>
							<span class="help-text"
								>Upload relevant documents, brochures, or
								schedules</span
							>
						</div>

						<div class="col-md-6">
							<label for="visibility" class="form-label required"
								>Visibility</label
							>
							<select
								id="visibility"
								name="visibility"
								class="form-select"
								required
							>
								<option value="public">
									üåç Public - Everyone can see
								</option>
								<option value="campus">
									üè´ Campus-only - Students & faculty
								</option>
								<option value="department">
									üè¢ Department-only - Department members
								</option>
								<option value="private">
									üîí Private - Invited only
								</option>
							</select>
						</div>

						<div class="col-md-6">
							<label class="form-label">Target Audience</label>
							<div class="card">
								<div class="card-body">
									<div class="row">
										<div class="col-6">
											<div class="form-check">
												<input
													class="form-check-input"
													type="checkbox"
													value="students"
													id="audStudents"
												/>
												<label
													class="form-check-label"
													for="audStudents"
													>üë®‚Äçüéì Students</label
												>
											</div>
										</div>
										<div class="col-6">
											<div class="form-check">
												<input
													class="form-check-input"
													type="checkbox"
													value="faculty"
													id="audFaculty"
												/>
												<label
													class="form-check-label"
													for="audFaculty"
													>üë®‚Äçüè´ Faculty</label
												>
											</div>
										</div>
										<div class="col-6">
											<div class="form-check">
												<input
													class="form-check-input"
													type="checkbox"
													value="staff"
													id="audStaff"
												/>
												<label
													class="form-check-label"
													for="audStaff"
													>üëî Staff</label
												>
											</div>
										</div>
										<div class="col-6">
											<div class="form-check">
												<input
													class="form-check-input"
													type="checkbox"
													value="external"
													id="audExternal"
												/>
												<label
													class="form-check-label"
													for="audExternal"
													>üåê External</label
												>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Step 6: Review & Submit -->
				<div class="form-step" data-step="5">
					<div class="step-header">
						<h2>
							<span class="icon">‚ú®</span>
							<div>
								<div>Review & Submit</div>
								<p>Review your event details</p>
							</div>
						</h2>
					</div>

					<div id="reviewContent" class="row g-4">
						<!-- Review content will be populated here -->
					</div>
				</div>

				<!-- Navigation Buttons -->
				<div class="form-navigation">
					<button
						type="button"
						class="btn btn-secondary btn-nav"
						id="prevBtn"
						style="display: none"
					>
						‚Üê Previous
					</button>
					<div></div>
					<button
						type="button"
						class="btn btn-primary btn-nav"
						id="nextBtn"
					>
						Next ‚Üí
					</button>
					<button
						type="submit"
						class="btn btn-success btn-nav"
						id="submitBtn"
						style="display: none"
					>
						üéâ Create Event
					</button>
				</div>
			</form>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Dummy Backend - Faculty/Teacher Users
			const facultyUsers = [
				{
					id: "T001",
					name: "Dr. Rajesh Kumar",
					email: "rajesh.kumar@university.edu",
					phone: "+919876543210",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T002",
					name: "Prof. Priya Sharma",
					email: "priya.sharma@university.edu",
					phone: "+919876543211",
					department: "Electronics",
					role: "teacher",
				},
				{
					id: "T003",
					name: "Dr. Amit Patel",
					email: "amit.patel@university.edu",
					phone: "+919876543212",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T004",
					name: "Prof. Neha Gupta",
					email: "neha.gupta@university.edu",
					phone: "+919876543213",
					department: "Mechanical",
					role: "teacher",
				},
				{
					id: "T005",
					name: "Dr. Suresh Verma",
					email: "suresh.verma@university.edu",
					phone: "+919876543214",
					department: "Civil",
					role: "teacher",
				},
				{
					id: "T006",
					name: "Prof. Anjali Singh",
					email: "anjali.singh@university.edu",
					phone: "+919876543215",
					department: "Computer Science",
					role: "teacher",
				},
				{
					id: "T007",
					name: "Dr. Vikram Desai",
					email: "vikram.desai@university.edu",
					phone: "+919876543216",
					department: "Electronics",
					role: "teacher",
				},
				{
					id: "T008",
					name: "Prof. Kavita Reddy",
					email: "kavita.reddy@university.edu",
					phone: "+919876543217",
					department: "Mathematics",
					role: "teacher",
				},
				{
					id: "T009",
					name: "Dr. Rahul Mehta",
					email: "rahul.mehta@university.edu",
					phone: "+919876543218",
					department: "Physics",
					role: "teacher",
				},
				{
					id: "T010",
					name: "Prof. Sneha Joshi",
					email: "sneha.joshi@university.edu",
					phone: "+919876543219",
					department: "Chemistry",
					role: "teacher",
				},
			];

			let currentStep = 0;
			const totalSteps = 6;
			const tags = [];

			// Populate Faculty Dropdowns
			function populateFacultyDropdowns() {
				const primarySelect =
					document.getElementById("primaryCoordinator");
				const coOrgsContainer = document.getElementById(
					"coOrganizersCheckboxes"
				);

				facultyUsers.forEach((faculty) => {
					const primaryOption = document.createElement("option");
					primaryOption.value = faculty.id;
					primaryOption.textContent = `${faculty.name} (${faculty.department})`;
					primaryOption.dataset.email = faculty.email;
					primaryOption.dataset.phone = faculty.phone;
					primaryOption.dataset.department = faculty.department;
					primaryOption.dataset.name = faculty.name;
					primarySelect.appendChild(primaryOption);

					const colDiv = document.createElement("div");
					colDiv.className = "col-md-6";
					colDiv.innerHTML = `
                    <div class="form-check co-org-checkbox">
                        <input class="form-check-input" type="checkbox" value="${faculty.id}" 
                               id="coOrg_${faculty.id}" 
                               data-name="${faculty.name}"
                               data-email="${faculty.email}"
                               data-department="${faculty.department}">
                        <label class="form-check-label" for="coOrg_${faculty.id}">
                            <div><strong>${faculty.name}</strong></div>
                            <small class="small">${faculty.department}</small>
                        </label>
                    </div>
                `;
					coOrgsContainer.appendChild(colDiv);
				});

				document
					.querySelectorAll(
						'#coOrganizersCheckboxes input[type="checkbox"]'
					)
					.forEach((checkbox) => {
						checkbox.addEventListener(
							"change",
							updateSelectedCoOrgs
						);
					});
			}

			function updateSelectedCoOrgs() {
				const selectedContainer =
					document.getElementById("selectedCoOrgs");
				const checkboxes = document.querySelectorAll(
					'#coOrganizersCheckboxes input[type="checkbox"]:checked'
				);

				selectedContainer.innerHTML = "";
				checkboxes.forEach((checkbox) => {
					const tag = document.createElement("div");
					tag.className = "tag";
					tag.innerHTML = `
                    ${checkbox.dataset.name} (${checkbox.dataset.department})
                    <span class="remove" onclick="removeCoOrg('${checkbox.id}')">√ó</span>
                `;
					selectedContainer.appendChild(tag);
				});
			}

			function removeCoOrg(checkboxId) {
				const checkbox = document.getElementById(checkboxId);
				if (checkbox) {
					checkbox.checked = false;
					updateSelectedCoOrgs();
				}
			}

			// Tag Management
			function addTag() {
				const tagInput = document.getElementById("tagInput");
				const value = tagInput.value.trim();
				if (value && tags.length < 10 && !tags.includes(value)) {
					tags.push(value);
					renderTags();
					tagInput.value = "";
				}
			}

			function removeTag(tag) {
				const index = tags.indexOf(tag);
				if (index > -1) {
					tags.splice(index, 1);
					renderTags();
				}
			}

			function renderTags() {
				const tagsContainer = document.getElementById("tagsContainer");
				tagsContainer.innerHTML = tags
					.map(
						(tag) => `
                <div class="tag">
                    ${tag}
                    <span class="remove" onclick="removeTag('${tag}')">√ó</span>
                </div>
            `
					)
					.join("");
			}

			document
				.getElementById("addTagBtn")
				.addEventListener("click", addTag);
			document
				.getElementById("tagInput")
				.addEventListener("keypress", (e) => {
					if (e.key === "Enter") {
						e.preventDefault();
						addTag();
					}
				});

			// Coordinator auto-fill
			document
				.getElementById("primaryCoordinator")
				.addEventListener("change", function () {
					const selected = this.options[this.selectedIndex];
					document.getElementById("coordEmail").value =
						selected.dataset.email || "";
					document.getElementById("coordPhone").value =
						selected.dataset.phone || "";

					document
						.querySelectorAll(
							'#coOrganizersCheckboxes input[type="checkbox"]'
						)
						.forEach((checkbox) => {
							if (checkbox.value === selected.value) {
								checkbox.disabled = true;
								checkbox.checked = false;
								checkbox.parentElement.style.opacity = "0.5";
							} else {
								checkbox.disabled = false;
								checkbox.parentElement.style.opacity = "1";
							}
						});
					updateSelectedCoOrgs();
				});

			// Mode toggle
			document.querySelectorAll('input[name="mode"]').forEach((radio) => {
				radio.addEventListener("change", function () {
					const venueGroup = document.getElementById("venueGroup");
					const onlineLinkGroup =
						document.getElementById("onlineLinkGroup");
					const venueInput = document.getElementById("venue");

					if (this.value === "online") {
						venueGroup.style.display = "none";
						venueInput.removeAttribute("required");
						onlineLinkGroup.style.display = "block";
					} else if (this.value === "offline") {
						venueGroup.style.display = "block";
						venueInput.setAttribute("required", "required");
						onlineLinkGroup.style.display = "none";
					} else if (this.value === "hybrid") {
						venueGroup.style.display = "block";
						venueInput.setAttribute("required", "required");
						onlineLinkGroup.style.display = "block";
					}
				});
			});

			// Other toggles
			document
				.getElementById("registrationRequired")
				.addEventListener("change", function () {
					const groups = [
						"registrationTypeGroup",
						"regStartGroup",
						"regEndGroup",
						"participantLimitGroup",
					];
					const display = this.value === "yes" ? "block" : "none";
					groups.forEach(
						(id) =>
							(document.getElementById(id).style.display =
								display)
					);
				});

			document
				.getElementById("catering")
				.addEventListener("change", function () {
					document.getElementById(
						"cateringDetailsGroup"
					).style.display = this.value === "yes" ? "block" : "none";
				});

			document
				.getElementById("teamsEnabled")
				.addEventListener("change", function () {
					document.getElementById("teamSettingsGroup").style.display =
						this.value === "yes" ? "block" : "none";
				});

			document
				.getElementById("eventType")
				.addEventListener("change", function () {
					document.getElementById("entryFeeGroup").style.display =
						this.value === "paid" ? "block" : "none";
				});

			// Step Navigation
			function showStep(step) {
				document
					.querySelectorAll(".form-step")
					.forEach((s) => s.classList.remove("active"));
				document
					.querySelectorAll(".step-item")
					.forEach((item, index) => {
						item.classList.remove("active");
						if (index < step) item.classList.add("completed");
						else item.classList.remove("completed");
					});

				document
					.querySelector(`.form-step[data-step="${step}"]`)
					.classList.add("active");
				document
					.querySelector(`.step-item[data-step="${step}"]`)
					.classList.add("active");

				document.getElementById("prevBtn").style.display =
					step === 0 ? "none" : "block";
				document.getElementById("nextBtn").style.display =
					step === totalSteps - 1 ? "none" : "block";
				document.getElementById("submitBtn").style.display =
					step === totalSteps - 1 ? "block" : "none";

				if (step === totalSteps - 1) {
					populateReview();
				}

				window.scrollTo({ top: 0, behavior: "smooth" });
			}

			function populateReview() {
				const reviewContent = document.getElementById("reviewContent");
				const formData = new FormData(
					document.getElementById("eventForm")
				);
				const data = Object.fromEntries(formData.entries());

				const coOrgs =
					Array.from(
						document.querySelectorAll(
							"#coOrganizersCheckboxes input:checked"
						)
					)
						.map((cb) => cb.dataset.name)
						.join(", ") || "None";

				const audience =
					Array.from(
						document.querySelectorAll('input[id^="aud"]:checked')
					)
						.map((cb) => cb.nextElementSibling.textContent)
						.join(", ") || "Not specified";

				reviewContent.innerHTML = `
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-3">üìã Basic Information</h5>
                            <p><strong>Title:</strong> ${
								data.title || "Not provided"
							}</p>
                            <p><strong>Subtitle:</strong> ${
								data.subtitle || "None"
							}</p>
                            <p><strong>Description:</strong> ${
								data.description || "Not provided"
							}</p>
                            <p><strong>Category:</strong> ${
								data.categories || "Not selected"
							}</p>
                            <p><strong>Type:</strong> ${
								data.eventType || "Not selected"
							}</p>
                            <p><strong>Tags:</strong> ${
								tags.join(", ") || "None"
							}</p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-3">üë• Organizers</h5>
                            <p><strong>Organizing Body:</strong> ${
								data.organizer || "Not selected"
							}</p>
                            <p><strong>Primary Coordinator:</strong> ${
								document.querySelector(
									"#primaryCoordinator option:checked"
								)?.textContent || "Not selected"
							}</p>
                            <p><strong>Co-organizers:</strong> ${coOrgs}</p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-3">üìÖ Schedule & Venue</h5>
                            <p><strong>Start:</strong> ${
								data.startAt || "Not set"
							}</p>
                            <p><strong>End:</strong> ${
								data.endAt || "Not set"
							}</p>
                            <p><strong>Mode:</strong> ${
								data.mode || "Not selected"
							}</p>
                            <p><strong>Venue:</strong> ${
								data.venue || "N/A"
							}</p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-3">‚úÖ Registration</h5>
                            <p><strong>Required:</strong> ${
								data.registrationRequired || "Not set"
							}</p>
                            <p><strong>Participant Limit:</strong> ${
								data.participantLimit || "Unlimited"
							}</p>
                            <p><strong>Security Level:</strong> ${
								data.securityLevel || "Medium"
							}</p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-3">üé® Media & Visibility</h5>
                            <p><strong>Visibility:</strong> ${
								data.visibility || "Not set"
							}</p>
                            <p><strong>Target Audience:</strong> ${audience}</p>
                        </div>
                    </div>
                </div>
            `;
			}

			document.getElementById("nextBtn").addEventListener("click", () => {
				if (currentStep < totalSteps - 1) {
					currentStep++;
					showStep(currentStep);
				}
			});

			document.getElementById("prevBtn").addEventListener("click", () => {
				if (currentStep > 0) {
					currentStep--;
					showStep(currentStep);
				}
			});

			document
				.getElementById("eventForm")
				.addEventListener("submit", function (e) {
					e.preventDefault();
					const submitBtn = document.getElementById("submitBtn");
					submitBtn.classList.add("loading");
					submitBtn.textContent = "Creating Event";

					setTimeout(() => {
						const formData = new FormData(this);
						const data = Object.fromEntries(formData.entries());
						data.tags = tags;
						data.coOrganizers = Array.from(
							document.querySelectorAll(
								"#coOrganizersCheckboxes input:checked"
							)
						).map((cb) => ({
							id: cb.value,
							name: cb.dataset.name,
							email: cb.dataset.email,
							department: cb.dataset.department,
						}));
						data.audience = Array.from(
							document.querySelectorAll(
								'input[id^="aud"]:checked'
							)
						).map((cb) => cb.value);

						console.log("Event Data:", data);
						alert(
							"üéâ Event created successfully!\n\nCheck the console for complete data."
						);
						submitBtn.classList.remove("loading");
						submitBtn.textContent = "üéâ Create Event";
					}, 1500);
				});

			// Initialize
			populateFacultyDropdowns();
			showStep(0);
		</script>
	</body>
</html>
