<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Notification History ‚Äî Event Ease</title>

		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>

		<link rel="stylesheet" href="../style.css" />
		<link rel="stylesheet" href="admin-common.css" />

		<style>
			body {
				font-family: Inter, system-ui, Arial;
				background: var(--bg-light);
				color: var(--text-dark);
			}
			.page-wrap {
				max-width: 1100px;
				margin: 0 auto;
				padding: 24px;
			}
			.card-compact {
				background: #fff;
				border-radius: 14px;
				box-shadow: var(--shadow-md);
				padding: 20px;
			}
			.log-meta {
				font-size: 13px;
				color: var(--muted);
			}
			.btn-costum {
				/* background-color: #ff9800; Orange */
				/* color: #fff; White text */
				padding: 10px 16px;
				border: none;
				border-radius: 6px;
				font-weight: 600;
				cursor: pointer;
				transition: background-color 0.3s ease;
				box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
			}

			.btn-costum:hover {
				transform: translateY(-2px);
				/* background-color: #e68900; Darker orange */
			}
		</style>
	</head>

	<body>
		<!-- TOPBAR (simple) -->
		<header class="topbar">
			<a
				class="d-flex align-items-center text-decoration-none"
				href="admin.html"
				aria-label="Event Ease Home"
			>
				<div class="logo"><img src="../logo.svg" alt="EE" /></div>
				<div
					style="
						margin-left: 10px;
						font-weight: 700;
						color: var(--text-dark);
					"
				>
					Event Ease
				</div>
			</a>

			<div class="d-flex align-items-center gap-3">
				<div class="d-none d-md-block" style="min-width: 280px">
					<input
						id="globalSearch"
						class="form-control form-control-sm"
						placeholder="Search (events, users, IDs) ‚Äî /"
					/>
				</div>
				<!-- Notification Bell -->
				<a
					href="notifications.html"
					class="position-relative btn btn-light"
					title="Notifications"
				>
					üîî
					<span
						id="adminNotifCount"
						class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
						style="font-size: 11px"
					>
						2
					</span>
				</a>

				<div class="dropdown">
					<button
						class="btn d-flex align-items-center gap-2"
						data-bs-toggle="dropdown"
						aria-expanded="false"
					>
						<div
							class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center"
							style="width: 36px; height: 36px"
						>
							AD
						</div>
						<div class="d-none d-md-block text-start">
							<div style="font-weight: 600">Admin</div>
							<div class="small muted">admin@college.edu</div>
						</div>
					</button>
					<ul class="dropdown-menu dropdown-menu-end">
						<li>
							<a class="dropdown-item" href="profile.html"
								>Profile</a
							>
						</li>
						<li>
							<a class="dropdown-item" href="settings.html"
								>Settings</a
							>
						</li>
						<li><hr class="dropdown-divider" /></li>
						<li>
							<a
								class="dropdown-item text-danger"
								href="#"
								id="logoutBtn"
								>Logout</a
							>
						</li>
					</ul>
				</div>
			</div>
		</header>

		<main class="page-wrap">
			<div class="d-flex justify-content-between align-items-center mb-3">
				<div>
					<h3>Notification History</h3>
					<p class="muted mb-0">
						Audit trail of all notifications and approval actions
					</p>
				</div>
				<div class="d-flex gap-2">
					<button
						class="btn btn-outline-secondary btn-costum btn-sm me-2"
						onclick="goBack()"
					>
						‚¨Ö Back
					</button>
					<button
						class="btn btn-outline-secondary btn-costum btn-sm me-2"
						onclick="exportCSV()"
					>
						‚¨áÔ∏è Export CSV
					</button>
					<button
						class="btn btn-outline-secondary btn-costum btn-sm"
						onclick="exportPDF()"
					>
						‚¨áÔ∏è Export PDF
					</button>
				</div>
			</div>

			<div class="card-compact">
				<div class="table-responsive">
					<table class="table table-hover align-middle">
						<thead>
							<tr>
								<th>Title</th>
								<th>Category</th>
								<th>Target</th>
								<th>Status</th>
								<th>Date & Time</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									Event Registration Deadline Extended
									<div class="log-meta">Sent by Admin</div>
								</td>
								<td>
									<span class="badge bg-primary"
										>Announcement</span
									>
								</td>
								<td>Students (Hackathon 2025)</td>
								<td>
									<span class="badge bg-success">Sent</span>
								</td>
								<td>18 Aug 2025, 10:32 AM</td>
							</tr>

							<tr>
								<td>
									New Event Approval Request
									<div class="log-meta">
										Teacher Coordinator
									</div>
								</td>
								<td>
									<span class="badge bg-warning text-dark"
										>Request</span
									>
								</td>
								<td>Admin</td>
								<td>
									<span class="badge bg-success"
										>Approved</span
									>
								</td>
								<td>17 Aug 2025, 04:15 PM</td>
							</tr>

							<tr>
								<td>
									System Maintenance Notification
									<div class="log-meta">System generated</div>
								</td>
								<td>
									<span class="badge bg-secondary"
										>System</span
									>
								</td>
								<td>All Users</td>
								<td>
									<span class="badge bg-success">Sent</span>
								</td>
								<td>15 Aug 2025, 02:00 AM</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</main>

		<script>
			function goBack() {
				window.location.href = "notifications.html";
			}

			function exportCSV() {
				const rows = document.querySelectorAll("table tr");
				let csv = [];

				rows.forEach((row) => {
					const cols = row.querySelectorAll("th, td");
					let data = [];
					cols.forEach((col) => {
						data.push(
							`"${col.innerText.replace(/\s+/g, " ").trim()}"`
						);
					});
					csv.push(data.join(","));
				});

				const blob = new Blob([csv.join("\n")], { type: "text/csv" });
				const link = document.createElement("a");
				link.href = URL.createObjectURL(blob);
				link.download = "notification_history.csv";
				link.click();
			}

			function exportPDF() {
				alert(
					"PDF export is planned.\n\n" +
						"In production, this will be generated using jsPDF or server-side rendering."
				);
			}
		</script>
	</body>
</html>
