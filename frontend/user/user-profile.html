<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Event Ease ‚Äî Profile (Student)</title>

		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="../style.css" />

		<style>
			:root {
				--header-h: 64px;
			}
			.topbar {
				height: var(--header-h);
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 0 20px;
				background: #fff;
				border-bottom: 1px solid var(--border);
			}
			.app-shell {
				display: flex;
				min-height: calc(100vh - var(--header-h));
			}
			.app-sidebar {
				width: 220px;
				background: linear-gradient(180deg, #0b1220, #071028);
				color: #fff;
				padding: 18px;
				display: flex;
				flex-direction: column;
			}
			.app-main {
				flex: 1;
				padding: 22px;
			}
			.card-compact {
				background: var(--bg-surface);
				border-radius: 10px;
				padding: 16px;
				border: 1px solid var(--border);
			}
			.profile-card {
			background: #fff;
			border-radius: 12px;
			padding: 24px;
			border: 1px solid #e5e7eb;
		}

		.avatar {
			width: 110px;
			height: 110px;
			border-radius: 50%;
			background: #2563eb;
			color: white;
			font-size: 42px;
			font-weight: 700;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.info-box {
			padding: 14px 16px;
			border-radius: 10px;
			background: #f9fafb;
			border: 1px solid #e5e7eb;
			margin-bottom: 12px;
		}

		.label {
			font-size: 12px;
			color: #6b7280;
			font-weight: 600;
		}

		.value {
			font-size: 15px;
			font-weight: 600;
		}

		.stat-box {
			text-align: center;
			padding: 16px;
			border-radius: 10px;
			background: #eef2ff;
			font-weight: 700;
		}
		</style>
	</head>
	<body>
		<header class="topbar">
			<a
				href="user-home.html"
				class="d-flex align-items-center text-decoration-none"
			>
				<div
					class="logo-mark"
					style="
						width: 36px;
						height: 36px;
						border-radius: 8px;
						background: linear-gradient(180deg, #3b82f6, #2b6ee6);
						display: grid;
						place-items: center;
						color: #fff;
					"
				>
					EE
				</div>
				<div style="margin-left: 10px; font-weight: 700">
					Event Ease
				</div>
			</a>
		</header>

		<div class="app-shell">
			<aside class="app-sidebar d-none d-lg-flex">
				<nav style="display: flex; flex-direction: column; gap: 10px">
					<a href="user-home.html" class="text-white-95 p-2 rounded"
						>üè† Home</a
					>
					<a href="user-events.html" class="text-white-95 p-2 rounded"
						>üìÖ Browse Events</a
					>
					<a
						href="user-registrations.html"
						class="text-white-95 p-2 rounded"
						>üìã My Registrations</a
					>
					<a href="user-notification.html" class="text-white-95 p-2 rounded active">üîî Notifications</a>
				    <a href="user-profile.html" class="text-white-95 p-2 rounded">üë§ Profile</a>
				</nav>
			</aside>

			<main class="app-main">
				<div class="card-compact">
					<div class="container mt-4">
		<div class="profile-card">

			<!-- HEADER -->
			<div class="d-flex justify-content-between align-items-center mb-4">
				<div>
					<h4 class="mb-1">My Profile</h4>
					<div class="text-muted">Student Account</div>
				</div>

				<!-- Avatar on right -->
				<div class="avatar">ST</div>
			</div>

			<!-- BASIC INFO -->
			<div class="row">
				<div class="col-md-6">
					<div class="info-box">
						<div class="label">Full Name</div>
						<div class="value">Student Name</div>
					</div>

					<div class="info-box">
						<div class="label">Email</div>
						<div class="value">student@college.edu</div>
					</div>

					<div class="info-box">
						<div class="label">Roll Number</div>
						<div class="value">CS2025-001</div>
					</div>
				</div>

				<div class="col-md-6">
					<div class="info-box">
						<div class="label">Department</div>
						<div class="value">Computer Science</div>
					</div>

					<div class="info-box">
						<div class="label">Year</div>
						<div class="value">3rd Year</div>
					</div>

					<div class="info-box">
						<div class="label">Phone</div>
						<div class="value">+91 XXXXXXXX</div>
					</div>
				</div>
			</div>

			<!-- STATS -->
			<div class="row mt-4">
				<div class="col-md-4">
					<div class="stat-box">
						<div>Registered Events</div>
						<div style="font-size:24px">5</div>
					</div>
				</div>

				<div class="col-md-4">
					<div class="stat-box">
						<div>Approved</div>
						<div style="font-size:24px">3</div>
					</div>
				</div>

				<div class="col-md-4">
					<div class="stat-box">
						<div>Pending</div>
						<div style="font-size:24px">2</div>
					</div>
				</div>
			</div>

			<div class="mt-3 text-end">
	<button class="btn btn-outline-primary me-2" onclick="enableEdit()">
		Edit Profile
	</button>
	<button class="btn btn-danger" onclick="logout()">
		Logout
	</button>
</div>

		</div>
	</div>
			</main>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script>
	/* PROFILE STORAGE */
	const defaultProfile = {
		name: "Student Name",
		email: "student@college.edu",
		roll: "CS2025-001",
		dept: "Computer Science",
		year: "3rd Year",
		phone: "+91 XXXXXXXX",
	};

	let profile =
		JSON.parse(localStorage.getItem("studentProfile")) ||
		defaultProfile;

	const fields = {
		name: 0,
		email: 1,
		roll: 2,
		dept: 3,
		year: 4,
		phone: 5,
	};

	/* LOAD PROFILE INTO UI */
	function loadProfile() {
		const values = document.querySelectorAll(".info-box .value");

		values[fields.name].innerText = profile.name;
		values[fields.email].innerText = profile.email;
		values[fields.roll].innerText = profile.roll;
		values[fields.dept].innerText = profile.dept;
		values[fields.year].innerText = profile.year;
		values[fields.phone].innerText = profile.phone;

		// Avatar initials
		document.querySelector(".avatar").innerText =
			profile.name
				.split(" ")
				.map((x) => x[0])
				.join("")
				.slice(0, 2)
				.toUpperCase();
	}

	/* ENABLE EDIT */
	function enableEdit() {
		document.querySelectorAll(".info-box .value").forEach((el) => {
			const text = el.innerText;
			el.innerHTML = `<input class="form-control form-control-sm" value="${text}">`;
		});

		document.querySelector(".mt-3.text-end").innerHTML = `
			<button class="btn btn-success me-2" onclick="saveProfile()">Save</button>
			<button class="btn btn-secondary" onclick="cancelEdit()">Cancel</button>
		`;
	}

	/* SAVE PROFILE */
	function saveProfile() {
		const inputs = document.querySelectorAll(".info-box input");

		profile = {
			name: inputs[fields.name].value,
			email: inputs[fields.email].value,
			roll: inputs[fields.roll].value,
			dept: inputs[fields.dept].value,
			year: inputs[fields.year].value,
			phone: inputs[fields.phone].value,
		};

		localStorage.setItem("studentProfile", JSON.stringify(profile));

		alert("Profile updated successfully");
		restoreView();
	}

	/* CANCEL EDIT */
	function cancelEdit() {
		restoreView();
	}

	/* RESTORE VIEW MODE */
	function restoreView() {
		document.querySelector(".mt-3.text-end").innerHTML = `
			<button class="btn btn-outline-primary me-2" onclick="enableEdit()">Edit Profile</button>
			<button class="btn btn-danger" onclick="logout()">Logout</button>
		`;

		loadProfile();
	}

	/* LOGOUT */
	function logout() {
		if (!confirm("Are you sure you want to logout?")) return;
		localStorage.removeItem("studentSession");
		window.location.href = "../login.html";
	}

	loadProfile();
</script>


	</body>
</html>
